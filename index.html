<!DOCTYPE html>
<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
	<script src="http://code.jquery.com/jquery-1.11.3.min.js" type="text/javascript"></script>
  	<script src="https://api.trello.com/1/client.js?key=726d81e0e0aef5097ea6739fd5f47e5e"></script
	
</head>
<style>
html,body {
  height:100%;
}

body {
  display : flex;
  flex-direction: column;
}
#section {
  flex : 1;
  background-color:lightyellow;
  position : relative;
  margin: 2px;
  border-style : solid;
  border-width : 1px 1px 1px 35px;
  
}

h3 {
  color : white;
  padding : 10px;
  margin : 0px;
  left : 0;
  bottom : 0;
 position : absolute;
  transform: rotate(-90deg);
  transform-origin : bottom left;
}

#creating {
 padding : 10px;
margin : 5px;
 background-color : red;
border : 2px solid black;
border-radius: 3px;
}

#rtl {
padding : 10px;
margin : 5px;
 background-color : white;
border : 2px solid black;
border-radius: 3px;
}

#live {
padding : 10px;
margin :5px;
 background-color : green;
border : 2px solid black;
border-radius: 3px;
}
</style>
<body>
   <section id = 'creating'>
      <h3>Creating</h3>
      <div id= 'c'> content</div>
   </section>
   <section id= 'rtl'>
      <h3>RTL</h3>
      <div id='r' >content</div>
   </section>
   <section id= 'live'> 
      <h3>Live</h3>
      <div id= 'l'>content</div>
   </section>
<script type="text/javascript">

var loadedActions = function(cards) {
	
	angular.forEach(cards , function (value,key) {debugger
		var list; 
		switch(value.idList) {
			
			case '5b20f1177994c475a10be920': 
				list = 'creating';
                                moo(list);
				break;
			case '5b20f138528ff7918365a5b7' : 
				list = 'rtl';
				moo(list);
				break;
			case '5b20f15424b0c9eafe53aa8b' : 
				list = 'live';
				moo(list);
				break;
		}
		function moo(section) {debugger
		     var iDiv = document.getElementById(section);
			var cardName = document.createElement('div');
			var node1 = document.createTextNode(value.name);
			cardName.appendChild(node1);
			iDiv.appendChild(cardName);
		}
	});
	
	
}

var loadedBoards = function(lists) {
	angular.forEach(lists , function (value,key) {
		var str = value.id;
		var listName= value.name;
		var res = str.replace(/"/g, '');
                var baseUrl = '/lists/';
		var postUrl = '/cards/';
		
		Trello.get(
        		baseUrl+res+postUrl,
        		loadedActions,
        		function() { console.log("Failed to load boards"); }
      		);
	});

}


    var loadBoards = function() {
      //Get the users boards
      Trello.get(
        'boards/5b20f0cfb972917500a4b2d3/lists',
        loadedBoards,
        function() { console.log("Failed to load boards"); }
      );
    };
    
    Trello.authorize({
      type: "popup",
      name: "Trello dashboard",
      scope: {
        read: true,
        write: false },
      expiration: "never",
      success: loadBoards,
      error: function() { console.log("Failed authentication"); }
    });

  </script>
 </body> 

</html>